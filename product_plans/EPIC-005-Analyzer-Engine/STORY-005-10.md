---
id: STORY-005-10
parent_epic: EPIC-005
status: Draft
actor: Frontend Developer
complexity: High (4+ files)
---
# STORY-005-10: Analysis View UI

## 1. The Spec (The Contract)

### 1.1 User Story
**As a** Frontend Developer,
**I want** an Analysis View page that displays analysis results with a summary table, per-check expandable details, a "Run Analysis" button, and reusable metric components,
**So that** developers can visually inspect code quality metrics, trigger new analysis runs, and drill into specific findings from the VibeLint dashboard.

### 1.2 Detailed Requirements
- **Requirement 1**: Create `AnalysisView.tsx` page component accessible at the `/analysis` route (or `/repos/:repoId/analysis`).
- **Requirement 2**: Display a repo selector dropdown at the top of the page allowing the user to switch between connected repos.
- **Requirement 3**: Show a summary table at the top with columns: Check Name, Status (with colored badges), Details. Use the `AnalysisSummary` component.
- **Requirement 4**: Status badges use color coding: green for PASS, amber/yellow for WARN, red for FAIL, gray for SKIPPED.
- **Requirement 5**: Provide a "Run Analysis" button that triggers `POST /api/repos/:repoId/analyze`. While running, show a loading spinner and disable the button. On completion, refresh the results.
- **Requirement 6**: Show the timestamp of the last analysis run below the summary table.
- **Requirement 7**: Below the summary, render expandable/collapsible sections for each check with detailed findings (file paths, line numbers, code snippets, clone locations, etc.).
- **Requirement 8**: Create `AnalysisSummary.tsx` component for the summary table (reusable on the dashboard).
- **Requirement 9**: Create `MetricCard.tsx` component for displaying individual metrics (reusable on the dashboard). Each card shows: metric name, current value, status indicator, and optional trend arrow.
- **Requirement 10**: Handle loading states, error states, and empty states (no analysis run yet).

---

## 2. The Truth (Executable Tests)

### 2.1 Acceptance Criteria (Gherkin)
```gherkin
Feature: Analysis View UI

  Scenario: Display analysis results
    Given a repo has a completed analysis
    When the user navigates to the Analysis View page
    Then the summary table shows all check names with status badges
    And the last analysis timestamp is displayed
    And each check has an expandable details section

  Scenario: Run new analysis
    Given the user is on the Analysis View page
    When the user clicks "Run Analysis"
    Then a loading spinner appears
    And the button is disabled
    And when the analysis completes, the results are refreshed

  Scenario: No analysis exists
    Given a repo has no completed analysis
    When the user navigates to the Analysis View page
    Then a message "No analysis results yet" is displayed
    And the "Run Analysis" button is prominently shown

  Scenario: Status badges are correctly colored
    Given an analysis with mixed results (pass, warn, fail, skipped)
    When the summary table is rendered
    Then PASS checks have a green badge
    And WARN checks have an amber badge
    And FAIL checks have a red badge
    And SKIPPED checks have a gray badge

  Scenario: Expand check details
    Given an analysis with error handling issues
    When the user clicks the Error Handling row to expand it
    Then a details panel shows each issue with file path, line number, and pattern name

  Scenario: Switch repo
    Given multiple repos are connected
    When the user selects a different repo from the dropdown
    Then the analysis results update to show the selected repo's data

  Scenario: Analysis error handling
    Given the backend returns an error when triggering analysis
    When the user clicks "Run Analysis"
    Then an error message is displayed
    And the button becomes enabled again
```

### 2.2 Verification Steps
- [ ] Analysis View page renders with summary table and expandable details.
- [ ] "Run Analysis" button triggers POST and shows loading state.
- [ ] Results refresh automatically after analysis completes.
- [ ] Status badges show correct colors (green/amber/red/gray).
- [ ] Expandable sections show detailed findings per check.
- [ ] Repo selector dropdown switches between repos.
- [ ] Empty state is shown when no analysis exists.
- [ ] Error state is shown on API failure.
- [ ] `AnalysisSummary` component is reusable.
- [ ] `MetricCard` component is reusable.

---

## 3. The Implementation Guide (AI-to-AI)

### 3.1 Context & Files
- **Primary Files**:
  - `src/client/pages/AnalysisView.tsx` (create)
  - `src/client/components/AnalysisSummary.tsx` (create)
  - `src/client/components/MetricCard.tsx` (create)
- **Related Files**:
  - `src/client/lib/api.ts` (API client — from EPIC-001, add analysis methods)
  - `src/client/App.tsx` (add route for Analysis View)
  - `src/client/pages/Dashboard.tsx` (may embed AnalysisSummary and MetricCard)
- **New Files Needed**:
  - `src/client/pages/AnalysisView.tsx`
  - `src/client/components/AnalysisSummary.tsx`
  - `src/client/components/MetricCard.tsx`

### 3.2 Technical Logic

**Step 1: Add analysis API methods to the client**

```typescript
// Add to src/client/lib/api.ts

export interface AnalysisCheckSummary {
  check: string;
  status: 'pass' | 'warn' | 'fail' | 'skipped';
  details: string;
  durationMs: number;
}

export interface AnalysisResponse {
  id: number;
  repoId: string;
  repoName: string;
  timestamp: string;
  branch?: string;
  baseBranch?: string;
  overallStatus: 'pass' | 'warn' | 'fail' | 'skipped';
  durationMs: number;
  summary: AnalysisCheckSummary[];
  details: Record<string, any>;
}

export interface AnalysisHistoryEntry {
  id: number;
  timestamp: string;
  branch?: string;
  overallStatus: string;
  durationMs: number;
  summary: AnalysisCheckSummary[];
}

export async function triggerAnalysis(
  repoId: string,
  options?: { baseBranch?: string }
): Promise<AnalysisResponse | { status: 'running'; repoId: string }> {
  const res = await fetch(`/api/repos/${repoId}/analyze`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(options || {}),
  });
  return res.json();
}

export async function getLatestAnalysis(repoId: string): Promise<AnalysisResponse | null> {
  const res = await fetch(`/api/repos/${repoId}/analysis/latest`);
  if (res.status === 404) return null;
  return res.json();
}

export async function getAnalysisHistory(
  repoId: string,
  limit = 20
): Promise<AnalysisHistoryEntry[]> {
  const res = await fetch(`/api/repos/${repoId}/analysis/history?limit=${limit}`);
  return res.json();
}

export async function getAnalysisById(
  repoId: string,
  analysisId: number
): Promise<AnalysisResponse> {
  const res = await fetch(`/api/repos/${repoId}/analysis/${analysisId}`);
  return res.json();
}
```

**Step 2: Create MetricCard component**

```tsx
// src/client/components/MetricCard.tsx

import React from 'react';

export interface MetricCardProps {
  label: string;
  value: string | number;
  status?: 'pass' | 'warn' | 'fail' | 'skipped' | 'neutral';
  subtitle?: string;
  trend?: 'up' | 'down' | 'flat';
}

const STATUS_COLORS: Record<string, string> = {
  pass: 'bg-green-100 text-green-800 border-green-200',
  warn: 'bg-amber-100 text-amber-800 border-amber-200',
  fail: 'bg-red-100 text-red-800 border-red-200',
  skipped: 'bg-gray-100 text-gray-600 border-gray-200',
  neutral: 'bg-blue-50 text-blue-800 border-blue-200',
};

const TREND_ICONS: Record<string, string> = {
  up: '\u2191',    // arrow up
  down: '\u2193',  // arrow down
  flat: '\u2192',  // arrow right
};

export function MetricCard({ label, value, status = 'neutral', subtitle, trend }: MetricCardProps) {
  const colorClass = STATUS_COLORS[status] || STATUS_COLORS.neutral;

  return (
    <div className={`rounded-lg border p-4 ${colorClass}`}>
      <div className="text-sm font-medium opacity-75">{label}</div>
      <div className="mt-1 flex items-baseline gap-2">
        <span className="text-2xl font-bold">{value}</span>
        {trend && (
          <span className="text-sm">{TREND_ICONS[trend]}</span>
        )}
      </div>
      {subtitle && (
        <div className="mt-1 text-xs opacity-60">{subtitle}</div>
      )}
    </div>
  );
}
```

**Step 3: Create AnalysisSummary component**

```tsx
// src/client/components/AnalysisSummary.tsx

import React from 'react';

export interface AnalysisSummaryProps {
  summary: Array<{
    check: string;
    status: 'pass' | 'warn' | 'fail' | 'skipped';
    details: string;
    durationMs: number;
  }>;
  onCheckClick?: (check: string) => void;
}

const STATUS_BADGE_CLASSES: Record<string, string> = {
  pass: 'bg-green-100 text-green-800',
  warn: 'bg-amber-100 text-amber-800',
  fail: 'bg-red-100 text-red-800',
  skipped: 'bg-gray-100 text-gray-500',
};

const STATUS_LABELS: Record<string, string> = {
  pass: 'PASS',
  warn: 'WARN',
  fail: 'FAIL',
  skipped: 'SKIP',
};

export function AnalysisSummary({ summary, onCheckClick }: AnalysisSummaryProps) {
  return (
    <div className="overflow-hidden rounded-lg border border-gray-200">
      <table className="min-w-full divide-y divide-gray-200">
        <thead className="bg-gray-50">
          <tr>
            <th className="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">
              Check
            </th>
            <th className="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">
              Status
            </th>
            <th className="px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">
              Details
            </th>
            <th className="px-4 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500">
              Time
            </th>
          </tr>
        </thead>
        <tbody className="divide-y divide-gray-200 bg-white">
          {summary.map((entry) => (
            <tr
              key={entry.check}
              className={onCheckClick ? 'cursor-pointer hover:bg-gray-50' : ''}
              onClick={() => onCheckClick?.(entry.check)}
            >
              <td className="whitespace-nowrap px-4 py-3 text-sm font-medium text-gray-900">
                {entry.check}
              </td>
              <td className="whitespace-nowrap px-4 py-3 text-sm">
                <span className={`inline-flex rounded-full px-2 py-1 text-xs font-semibold ${STATUS_BADGE_CLASSES[entry.status]}`}>
                  {STATUS_LABELS[entry.status]}
                </span>
              </td>
              <td className="px-4 py-3 text-sm text-gray-600">
                {entry.details}
              </td>
              <td className="whitespace-nowrap px-4 py-3 text-right text-xs text-gray-400">
                {entry.durationMs}ms
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}
```

**Step 4: Create AnalysisView page**

```tsx
// src/client/pages/AnalysisView.tsx

import React, { useState, useEffect, useCallback } from 'react';
import { AnalysisSummary } from '../components/AnalysisSummary';
import { MetricCard } from '../components/MetricCard';
import {
  triggerAnalysis,
  getLatestAnalysis,
  AnalysisResponse,
} from '../lib/api';

interface Repo {
  id: string;
  name: string;
  path: string;
}

export function AnalysisView() {
  const [repos, setRepos] = useState<Repo[]>([]);
  const [selectedRepoId, setSelectedRepoId] = useState<string>('');
  const [analysis, setAnalysis] = useState<AnalysisResponse | null>(null);
  const [loading, setLoading] = useState(false);
  const [analyzing, setAnalyzing] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [expandedCheck, setExpandedCheck] = useState<string | null>(null);

  // Fetch repos on mount
  useEffect(() => {
    fetch('/api/repos')
      .then(res => res.json())
      .then((data: Repo[]) => {
        setRepos(data);
        if (data.length > 0 && !selectedRepoId) {
          setSelectedRepoId(data[0].id);
        }
      });
  }, []);

  // Fetch latest analysis when repo changes
  const fetchAnalysis = useCallback(async () => {
    if (!selectedRepoId) return;
    setLoading(true);
    setError(null);
    try {
      const data = await getLatestAnalysis(selectedRepoId);
      setAnalysis(data);
    } catch (err: any) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  }, [selectedRepoId]);

  useEffect(() => {
    fetchAnalysis();
  }, [fetchAnalysis]);

  // Handle "Run Analysis" click
  const handleRunAnalysis = async () => {
    if (!selectedRepoId) return;
    setAnalyzing(true);
    setError(null);
    try {
      const result = await triggerAnalysis(selectedRepoId);
      if ('summary' in result) {
        // Completed synchronously
        setAnalysis(result as AnalysisResponse);
      } else {
        // Running async — poll for completion
        const pollInterval = setInterval(async () => {
          const latest = await getLatestAnalysis(selectedRepoId);
          if (latest && latest.timestamp !== analysis?.timestamp) {
            setAnalysis(latest);
            setAnalyzing(false);
            clearInterval(pollInterval);
          }
        }, 2_000);

        // Safety timeout — stop polling after 120s
        setTimeout(() => {
          clearInterval(pollInterval);
          setAnalyzing(false);
          fetchAnalysis();
        }, 120_000);
      }
    } catch (err: any) {
      setError(err.message || 'Failed to start analysis');
      setAnalyzing(false);
    }
  };

  // Toggle expandable detail section
  const handleCheckClick = (check: string) => {
    setExpandedCheck(expandedCheck === check ? null : check);
  };

  return (
    <div className="mx-auto max-w-6xl px-4 py-6">
      {/* Header */}
      <div className="mb-6 flex items-center justify-between">
        <h1 className="text-2xl font-bold text-gray-900">Analysis</h1>
        <div className="flex items-center gap-4">
          {/* Repo Selector */}
          <select
            className="rounded-md border border-gray-300 px-3 py-2 text-sm"
            value={selectedRepoId}
            onChange={(e) => setSelectedRepoId(e.target.value)}
          >
            {repos.map(repo => (
              <option key={repo.id} value={repo.id}>{repo.name}</option>
            ))}
          </select>

          {/* Run Analysis Button */}
          <button
            onClick={handleRunAnalysis}
            disabled={analyzing || !selectedRepoId}
            className="inline-flex items-center gap-2 rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
          >
            {analyzing ? (
              <>
                <span className="h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent" />
                Analyzing...
              </>
            ) : (
              'Run Analysis'
            )}
          </button>
        </div>
      </div>

      {/* Error message */}
      {error && (
        <div className="mb-4 rounded-md bg-red-50 border border-red-200 px-4 py-3 text-sm text-red-700">
          {error}
        </div>
      )}

      {/* Loading state */}
      {loading && (
        <div className="flex items-center justify-center py-12 text-gray-500">
          Loading analysis results...
        </div>
      )}

      {/* Empty state */}
      {!loading && !analysis && !error && (
        <div className="rounded-lg border-2 border-dashed border-gray-300 p-12 text-center">
          <p className="text-lg text-gray-500">No analysis results yet</p>
          <p className="mt-2 text-sm text-gray-400">
            Click "Run Analysis" to analyze this repository.
          </p>
        </div>
      )}

      {/* Analysis Results */}
      {analysis && !loading && (
        <>
          {/* Metric Cards Row */}
          <div className="mb-6 grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-6">
            <MetricCard
              label="Overall"
              value={analysis.overallStatus.toUpperCase()}
              status={analysis.overallStatus}
            />
            <MetricCard
              label="Duration"
              value={`${(analysis.durationMs / 1000).toFixed(1)}s`}
              status="neutral"
            />
            <MetricCard
              label="Languages"
              value={analysis.details.languages?.languages?.length || 0}
              status="neutral"
              subtitle={analysis.details.languages?.languages?.map((l: any) => l.language).join(', ')}
            />
            <MetricCard
              label="Complexity"
              value={analysis.details.complexity?.summary?.avgComplexity || 'N/A'}
              status={analysis.details.complexity?.status || 'skipped'}
              subtitle={`Max: ${analysis.details.complexity?.summary?.maxComplexity || 'N/A'}`}
            />
            <MetricCard
              label="Duplication"
              value={analysis.details.duplication?.percentage != null ? `${analysis.details.duplication.percentage}%` : 'N/A'}
              status={analysis.details.duplication?.status || 'skipped'}
            />
            <MetricCard
              label="Dependencies"
              value={analysis.details.dependencies?.totalDeps || 0}
              status="neutral"
              subtitle={analysis.details.dependencies?.totalNewDeps > 0
                ? `${analysis.details.dependencies.totalNewDeps} new`
                : undefined}
            />
          </div>

          {/* Last analysis timestamp */}
          <p className="mb-4 text-sm text-gray-500">
            Last analysis: {new Date(analysis.timestamp).toLocaleString()}
            {analysis.branch && ` on branch ${analysis.branch}`}
          </p>

          {/* Summary Table */}
          <div className="mb-6">
            <AnalysisSummary
              summary={analysis.summary}
              onCheckClick={handleCheckClick}
            />
          </div>

          {/* Expandable Detail Sections */}
          {expandedCheck && (
            <ExpandedCheckDetail
              check={expandedCheck}
              details={analysis.details}
              onClose={() => setExpandedCheck(null)}
            />
          )}
        </>
      )}
    </div>
  );
}
```

**Step 5: Create the expandable detail section helper component**

```tsx
// Still inside src/client/pages/AnalysisView.tsx (or extract to a sub-component)

interface ExpandedCheckDetailProps {
  check: string;
  details: Record<string, any>;
  onClose: () => void;
}

function ExpandedCheckDetail({ check, details, onClose }: ExpandedCheckDetailProps) {
  const renderContent = () => {
    switch (check) {
      case 'File Size':
        return (
          <div>
            {details.sizes?.files?.map((file: any, i: number) => (
              <div key={i} className="mb-3 rounded border border-gray-200 p-3">
                <div className="font-mono text-sm font-medium">{file.path}</div>
                <div className="text-sm text-gray-600">{file.lines} lines</div>
                {file.functions?.length > 0 && (
                  <ul className="mt-2 ml-4 list-disc text-sm text-gray-500">
                    {file.functions.map((fn: any, j: number) => (
                      <li key={j}>
                        <code>{fn.name}</code>: {fn.lines} lines (line {fn.startLine})
                      </li>
                    ))}
                  </ul>
                )}
              </div>
            ))}
            {(!details.sizes?.files || details.sizes.files.length === 0) && (
              <p className="text-sm text-gray-500">All files within size limits.</p>
            )}
          </div>
        );

      case 'Error Handling':
        return (
          <div>
            {details.errorPatterns?.issues?.map((issue: any, i: number) => (
              <div key={i} className="mb-2 flex items-start gap-3 rounded border border-gray-200 p-3">
                <span className={`mt-0.5 inline-block rounded px-1.5 py-0.5 text-xs font-semibold ${
                  issue.severity === 'error' ? 'bg-red-100 text-red-700' : 'bg-amber-100 text-amber-700'
                }`}>
                  {issue.severity}
                </span>
                <div>
                  <div className="text-sm">
                    <span className="font-mono">{issue.file}:{issue.line}</span>
                    {' — '}{issue.pattern}
                  </div>
                  {issue.snippet && (
                    <code className="mt-1 block text-xs text-gray-500">{issue.snippet}</code>
                  )}
                </div>
              </div>
            ))}
          </div>
        );

      case 'Complexity':
        return (
          <div>
            {details.complexity?.available === false && (
              <p className="text-sm text-amber-600">{details.complexity.reason}</p>
            )}
            {details.complexity?.functions?.map((fn: any, i: number) => (
              <div key={i} className="mb-2 rounded border border-gray-200 p-3">
                <div className="text-sm">
                  <span className="font-mono font-medium">{fn.file}</span>
                  {' '}<code>{fn.name}</code>
                </div>
                <div className="mt-1 text-xs text-gray-500">
                  CCN: {fn.complexity} | NLOC: {fn.nloc} | Tokens: {fn.tokenCount}
                  <span className={`ml-2 rounded px-1 py-0.5 text-xs ${
                    fn.flag === 'fail' ? 'bg-red-100 text-red-700' : 'bg-amber-100 text-amber-700'
                  }`}>
                    {fn.flag}
                  </span>
                </div>
              </div>
            ))}
          </div>
        );

      case 'Duplication':
        return (
          <div>
            {details.duplication?.available === false && (
              <p className="text-sm text-amber-600">{details.duplication.reason}</p>
            )}
            {details.duplication?.percentage != null && (
              <p className="mb-3 text-sm text-gray-600">
                Total duplication: {details.duplication.percentage}%
              </p>
            )}
            {details.duplication?.clones?.map((clone: any, i: number) => (
              <div key={i} className="mb-2 rounded border border-gray-200 p-3 text-sm">
                <div className="font-mono">{clone.firstFile} (lines {clone.firstStartLine}-{clone.firstEndLine})</div>
                <div className="my-1 text-gray-400">duplicated in</div>
                <div className="font-mono">{clone.secondFile} (lines {clone.secondStartLine}-{clone.secondEndLine})</div>
                <div className="mt-1 text-xs text-gray-500">{clone.lines} lines, {clone.tokens} tokens</div>
              </div>
            ))}
          </div>
        );

      case 'Dependencies':
        return (
          <div>
            {details.dependencies?.manifests?.map((manifest: any, i: number) => (
              <div key={i} className="mb-2 rounded border border-gray-200 p-3">
                <div className="text-sm font-mono font-medium">{manifest.file}</div>
                <div className="text-sm text-gray-600">{manifest.depCount} dependencies ({manifest.type})</div>
                {manifest.newDeps?.length > 0 && (
                  <div className="mt-1">
                    <span className="text-xs font-medium text-blue-600">New: </span>
                    <span className="text-xs text-gray-600">{manifest.newDeps.join(', ')}</span>
                  </div>
                )}
              </div>
            ))}
          </div>
        );

      case 'Coupling':
        return (
          <div>
            {details.coupling?.status === 'skipped' && (
              <p className="text-sm text-gray-500">{details.coupling.reason}</p>
            )}
            {details.coupling?.status !== 'skipped' && (
              <>
                <p className="mb-2 text-sm text-gray-600">
                  {details.coupling.filesChanged} files across {details.coupling.dirsChanged} directories
                </p>
                <div className="max-h-60 overflow-y-auto rounded border border-gray-200 p-3">
                  {details.coupling?.fileList?.map((file: string, i: number) => (
                    <div key={i} className="py-0.5 font-mono text-xs text-gray-600">{file}</div>
                  ))}
                </div>
              </>
            )}
          </div>
        );

      default:
        return <p className="text-sm text-gray-500">No detailed view available for this check.</p>;
    }
  };

  return (
    <div className="rounded-lg border border-gray-200 bg-white p-4">
      <div className="mb-3 flex items-center justify-between">
        <h3 className="text-lg font-medium text-gray-900">{check} — Details</h3>
        <button
          onClick={onClose}
          className="text-sm text-gray-400 hover:text-gray-600"
        >
          Close
        </button>
      </div>
      {renderContent()}
    </div>
  );
}
```

**Step 6: Register the route in App.tsx**

```tsx
// In src/client/App.tsx, add the Analysis View route:
import { AnalysisView } from './pages/AnalysisView';

// Inside the Router/Routes:
<Route path="/analysis" element={<AnalysisView />} />
```

### 3.3 API Contract
This story consumes the Analysis API (STORY-005-09). The endpoints used are:

| Method | Endpoint | Purpose |
|--------|----------|---------|
| `POST` | `/api/repos/:repoId/analyze` | Trigger analysis |
| `GET` | `/api/repos/:repoId/analysis/latest` | Get latest results |
| `GET` | `/api/repos` | List repos for dropdown |

---

## 4. Definition of Done (The Gate)
- [ ] `src/client/pages/AnalysisView.tsx` exists and renders the full Analysis View page.
- [ ] `src/client/components/AnalysisSummary.tsx` exists and renders the summary table with status badges.
- [ ] `src/client/components/MetricCard.tsx` exists and renders individual metric cards.
- [ ] Repo selector dropdown allows switching between connected repos.
- [ ] "Run Analysis" button triggers `POST /api/repos/:repoId/analyze` and shows loading state.
- [ ] Results auto-refresh after analysis completes.
- [ ] Status badges are color-coded: green (PASS), amber (WARN), red (FAIL), gray (SKIPPED).
- [ ] Expandable detail sections show per-check findings with file paths and line numbers.
- [ ] Empty state is displayed when no analysis exists for the selected repo.
- [ ] Error state is displayed on API failure.
- [ ] Last analysis timestamp is shown.
- [ ] Route `/analysis` is registered in App.tsx.
- [ ] Components are styled with Tailwind CSS classes.
- [ ] No TypeScript compilation errors (`npx tsc --noEmit`).
